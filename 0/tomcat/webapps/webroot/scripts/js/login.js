window.LoginHelper||(window.LoginHelper={}),LoginHelper.closeWindow=LoginHelper.closeWindow||function(){},LoginHelper.registerHref=LoginHelper.registerHref||function(){},LoginHelper.forgetHref=LoginHelper.forgetHref||function(){},LoginHelper.defaultLogin=LoginHelper.defaultLogin||function(username,password,cb){},LoginHelper.showQQ=LoginHelper.showQQ||function(){},function($){null!==window.assemb&&void 0!==window.assemb||(window.assemb={}),assemb.components={init:function(){this.setRegisterHref(),this.setForgetHref(),this.defaultLogin(),this.closeDialog(),this.qqLogin(),this.keyBind()},setRegisterHref:function(){$(".register").bind("click",function(){LoginHelper.registerHref()})},setForgetHref:function(){$(".forget").bind("click",function(){LoginHelper.forgetHref()})},defaultLogin:function(){var self=this;$(".login-btn").bind("click",function(){self.hideErrorMsg();var username=$(".user-info").val(),password=$(".password").val();0!==username.length&&0!==password.length?(self.showTransition(),LoginHelper.defaultLogin(username,password,function(result){var assembComponent=assemb.components;assembComponent.hideTransition();var res=parseInt(result,10);-1===res&&assembComponent.showErrorMsg("用户名不存在"),-2===res&&assembComponent.showErrorMsg("用户名或密码错误"),-3===res&&assembComponent.showErrorMsg("未知错误"),-4===res&&assembComponent.showErrorMsg("网络连接失败"),-5===res&&assembComponent.showErrorMsg("用户名或密码不能为空")})):self.showErrorMsg(Store.parseI18n("Fine-Plugin_Shop_Store_Not_Null"))})},closeDialog:function(){$(".login-close").bind("click",function(){LoginHelper.closeWindow()})},qqLogin:function(){$(".qq-login-btn").bind("click",function(){LoginHelper.showQQ()})},showTransition:function(){$(".login-content .transition").show(),$(".default-login").addClass("blur-loading"),$(".login-btn").prop("disabled",!0)},hideTransition:function(){$(".login-content .login-btn").prop("disabled",!1),$(".transition").hide(),$(".default-login").removeClass("blur-loading")},showErrorMsg:function(text){var $errorMag=$(".error-msg");$errorMag.text(text),$errorMag.show()},hideErrorMsg:function(){var $errorMag=$(".error-msg");$errorMag.text(""),$errorMag.hide()},keyBind:function(){function handleKeyDown(event){13===event.which&&(event.preventDefault(),$(".login-btn").click())}$(".user-info").keydown(handleKeyDown),$(".password").keydown(handleKeyDown)}}}(jQuery),jQuery,null==window.assemb&&(window.assemb={}),assemb.build=function(){this.components.init()};